const dataKatalog = [
  {
    id: "1",
    merk: "Honda",
    model: "BeAT",
    deskripsi:
      'Untuk menjaga performa dan memastikan umur panjang kendaraan, berikut adalah beberapa tips perawatan untuk Honda Beat 2024: <br style="page-break-before: always;"> 1. Periksa dan Ganti Oli Mesin Secara Berkala: Pastikan oli mesin diganti sesuai dengan jadwal yang direkomendasikan oleh pabrikan, biasanya setiap 2.000-4.000 km, untuk menjaga mesin tetap terlubrikasi dengan baik.<br style="page-break-before: always;"> 2. Cek Tekanan Angin Ban: Ban dengan tekanan angin yang tepat tidak hanya meningkatkan efisiensi bahan bakar tetapi juga memperpanjang umur ban dan meningkatkan keamanan berkendara. Periksa tekanan ban secara berkala, idealnya sekali seminggu. <br>3. Bersihkan Filter Udara: Filter udara yang bersih memastikan aliran udara yang baik ke mesin, yang penting untuk menjaga performa motor. Bersihkan filter udara secara teratur dan ganti jika sudah terlalu kotor atau rusak.',
    gambar: "ahm-gaul-sideview-deluxe-black-7-01022023-085330.webp",
  },
  {
    id: "2",
    merk: "Honda",
    model: "PCX160",
    deskripsi:
      "Untuk menjaga performa dan memastikan umur panjang kendaraan, berikut adalah beberapa tips perawatan untuk Honda PCX 160: <br> 1. Perawatan Baterai: PCX 160 menggunakan sistem start-stop yang otomatis, yang membuat penggunaan baterai lebih intensif. Pastikan baterai selalu dalam kondisi terisi penuh dan periksa secara berkala untuk memastikan tidak ada kerusakan atau kebocoran. <br>  2. Cek dan Bersihkan Filter Udara: Sistem intake udara yang bersih sangat penting untuk efisiensi bahan bakar dan performa motor. Bersihkan filter udara secara berkala dan ganti jika sudah terlalu kotor atau rusak. <br> 3. Perawatan CVT (Continuous Variable Transmission): Karena menggunakan transmisi CVT, penting untuk memeriksa dan memastikan bahwa sabuk transmisi dalam kondisi baik dan tidak aus. Ganti sabuk CVT sesuai interval yang direkomendasikan oleh pabrikan atau lebih awal jika diperlukan.",
    gambar: "pcx.png",
  },
  {
    id: "3",
    merk: "Honda",
    model: "Vario 160",
    deskripsi:
      "Untuk menjaga performa dan memastikan umur panjang kendaraan, berikut adalah beberapa tips perawatan untuk Honda Vario 160: <br> 1. Cek Tekanan Angin Ban: Ban dengan tekanan yang tepat penting untuk menjaga kestabilan dan efisiensi bahan bakar. Periksa tekanan angin ban secara rutin dan sesuaikan sesuai spesifikasi pabrikan. <br> 2. Lubrikasi Rantai dan Sprocket: Meskipun Vario 160 adalah skuter matik, memastikan komponen transmisi seperti sprocket penggerak roda belakang terlubrikasi dengan baik dapat memperpanjang umur komponen dan mengurangi keausan. <br> 3. Periksa dan Ganti Cairan Rem: Untuk menjaga performa sistem pengereman, penting untuk memeriksa level cairan rem secara berkala dan menggantinya setiap 12.000 km atau sesuai anjuran pabrikan.",
    gambar: "vario.png",
  },

  {
    id: "4",
    merk: "Honda",
    model: "CBR150R",
    deskripsi:
      "Untuk menjaga performa dan memastikan umur panjang kendaraan, berikut adalah beberapa tips perawatan untuk Honda CBR 150R: <br> 1. Perawatan Sistem Pendinginan: CBR150R menggunakan sistem pendinginan cairan untuk menjaga suhu mesin. Pastikan level cairan pendingin sesuai dan ganti cairan pendingin sesuai jadwal yang direkomendasikan untuk menghindari overheating. <br> 2. Cek dan Atur Ketegangan Rantai: Rantai yang terlalu kendor atau terlalu kencang bisa mempengaruhi performa berkendara dan umur rantai. Pastikan rantai memiliki ketegangan yang tepat dan terlubrikasi dengan baik. <br> 3. Pemeliharaan Suspensi: Cek kondisi oli suspensi depan dan karet seal untuk mencegah kebocoran. Suspensi yang terawat dengan baik penting untuk kenyamanan dan stabilitas saat berkendara, terutama pada motor sport seperti CBR150R.",
    gambar: "cbr.png",
  },

  {
    id: "5",
    merk: "Yamaha",
    model: "NMAX 155",
    deskripsi:
      "Untuk menjaga performa dan memastikan umur panjang kendaraan, berikut adalah beberapa tips perawatan untuk Yamaha NMAX 155: <br> 1. Periksa dan Ganti Oli Mesin secara Berkala: Oli mesin yang berkualitas dan diganti secara berkala adalah kunci untuk menjaga mesin tetap dalam kondisi terbaik. Pastikan untuk mengganti oli mesin setiap 2.000-3.000 km atau sesuai dengan rekomendasi pabrikan. <br> 2. Cek Sistem VVA (Variable Valve Actuation): Nmax 155 dilengkapi dengan teknologi VVA yang meningkatkan performa mesin. Pastikan sistem VVA berfungsi dengan baik melalui servis berkala di bengkel resmi. <br> 3. Perawatan Sistem Pengereman ABS: Jika Nmax Anda dilengkapi dengan ABS, pastikan sistem ini diperiksa secara berkala oleh teknisi yang berkualifikasi untuk memastikan keamanan maksimal saat berkendara.",
    gambar: "nmax.png",
  },

  {
    id: "6",
    merk: "Yamaha",
    model: "Aerox",
    deskripsi:
      "Untuk menjaga performa dan memastikan umur panjang kendaraan, berikut adalah beberapa tips perawatan untuk Yamaha Aerox 155: <br> 1. Bersihkan Filter Udara secara Rutin: Aerox 155 memerlukan aliran udara yang optimal untuk performa mesin yang efisien. Bersihkan filter udara secara berkala dan ganti bila diperlukan untuk menjaga performa mesin.<br> 2.Cek dan Atur Tekanan Angin Ban: Pastikan ban selalu dalam kondisi tekanan yang ideal. Ban dengan tekanan yang tepat tidak hanya memperpanjang umur ban tetapi juga meningkatkan efisiensi bahan bakar dan kestabilan saat berkendara.<br> 3. Periksa Sabuk CVT dan Roller: Sebagai skuter matik, kondisi sabuk CVT dan roller sangat penting untuk transmisi yang halus dan efisien. Periksa dan ganti komponen-komponen ini sesuai kebutuhan atau sesuai interval yang disarankan oleh pabrikan.",
    gambar: "aerox.png",
  },

  {
    id: "7",
    merk: "Yamaha",
    model: "Xmax",
    deskripsi:
      "Untuk menjaga performa dan memastikan umur panjang kendaraan, berikut adalah beberapa tips perawatan untuk Honda CBR 150R:<br> 1. Perawatan Sistem Pendinginan: Xmax 250 menggunakan sistem pendinginan cairan yang memerlukan perhatian khusus. Pastikan untuk memeriksa level cairan pendingin secara berkala dan mengganti cairan pendingin setiap 20.000 km atau sesuai dengan petunjuk pabrikan. <br> 2. Periksa dan Ganti Filter Oli Mesin: Selain oli mesin, filter oli juga perlu diganti secara berkala untuk menjaga mesin bekerja dengan lancar. Pastikan untuk mengganti filter oli setiap kali Anda mengganti oli mesin.",
    gambar: "xmax.png",
  },

  {
    id: "8",
    merk: "Yamaha",
    model: "XSR 155",
    deskripsi:
      "Untuk menjaga performa dan memastikan umur panjang kendaraan, berikut adalah beberapa tips perawatan untuk Yamaha XSR 155:<br> 1. Ganti Oli Mesin Secara Berkala: Oli mesin berperan vital dalam menjaga mesin tetap bersih dan terlubrikasi dengan baik. Pastikan untuk mengganti oli mesin XSR 155 Anda sesuai interval yang disarankan oleh Yamaha, yaitu setiap 3.000 hingga 5.000 km, tergantung pada kondisi penggunaan.<br> 2.Periksa Level Oli: Selalu periksa level oli mesin secara rutin, minimal sekali sebulan atau sebelum melakukan perjalanan jauh, untuk memastikan mesin selalu terlubrikasi dengan baik.<br> 3. Lubrikasi Rantai: Rantai yang kering bisa menyebabkan keausan cepat dan mengurangi efisiensi transmisi. Lubrikasi rantai secara teratur, idealnya setiap 500 km atau setelah terpapar hujan, dapat membantu memperpanjang umur rantai dan sprocket.",
    gambar: "xsr.png",
  },

  {
    id: "9",
    merk: "Suzuki",
    model: "GSX-R150",
    deskripsi:
      "Untuk menjaga performa dan memastikan umur panjang kendaraan, berikut adalah beberapa tips perawatan untuk Suzuki GSX-R150: <br> 1. Lakukan perawatan rutin seperti penggantian oli dan filter sesuai jadwal.<br> 2. Jaga kebersihan motor dengan membersihkan secara teratur. 3. Pelumasan rantai secara teratur untuk menghindari keausan berlebihan.",
    gambar: "gsx-r150.webp",
  },

  {
    id: "10",
    merk: "Suzuki",
    model: "NEX II",
    deskripsi:
      "Untuk menjaga performa dan memastikan umur panjang kendaraan, berikut adalah beberapa tips perawatan untuk Suzuki NEX II: <br> 1. Lakukan perawatan rutin seperti penggantian oli, servis, dan pembersihan secara teratur.<br> 3.Perhatikan tekanan ban dan lakukan pelumasan rantai secara berkala.<br> 3. Periksa sistem rem dan suspensi secara teratur untuk menjaga kinerja optimal.",
    gambar: "next_2.webp",
  },
];

const tableBody = document.querySelector(
  ".content .content-wrapper table tbody"
);

dataKatalog.forEach((katalog) => {
  const tr = document.createElement("tr");
  const tdMerk = document.createElement("td");
  const tdAction = document.createElement("td");
  const btnDetail = document.createElement("a");
  const btnEdit = document.createElement("a");
  const btnDelete = document.createElement("a");

  tdMerk.classList.add("title-column");
  btnDetail.classList.add("btn-detail");
  btnEdit.classList.add("btn-edit");
  btnDelete.classList.add("btn-delete");

  btnDetail.setAttribute("data-id", katalog.id);
  btnDetail.setAttribute("data-merk", katalog.merk);
  btnDetail.setAttribute("data-model", katalog.model);
  btnDetail.setAttribute("data-gambar", katalog.gambar);
  btnDetail.setAttribute("data-deskripsi", katalog.deskripsi);
  btnDetail.setAttribute("href", "#");

  btnEdit.setAttribute("data-id", katalog.id);
  btnEdit.setAttribute("data-merk", katalog.merk);
  btnEdit.setAttribute("data-model", katalog.model);
  btnEdit.setAttribute("data-gambar", katalog.gambar);
  btnEdit.setAttribute("data-deskripsi", katalog.deskripsi);
  btnEdit.setAttribute("href", "#");

  btnDelete.setAttribute("data-id", katalog.id);
  btnDelete.setAttribute("data-merk", katalog.merk);
  btnDelete.setAttribute("data-model", katalog.model);
  btnDelete.setAttribute("href", "#");

  btnDetail.innerHTML = `<i class="bx bxs-info-circle"></i>`;
  btnEdit.innerHTML = `<i class="bx bxs-edit"></i>`;
  btnDelete.innerHTML = `<i class="bx bxs-trash"></i>`;

  tdMerk.innerHTML = `${katalog.merk} - ${katalog.model}`;

  tdAction.appendChild(btnDetail);
  tdAction.appendChild(btnEdit);
  tdAction.appendChild(btnDelete);

  tr.appendChild(tdMerk);
  tr.appendChild(tdAction);

  tableBody.appendChild(tr);

  btnDelete.addEventListener("click", function (e) {
    const id = this.getAttribute("data-id");
    const merk = this.getAttribute("data-merk");
    const model = this.getAttribute("data-model");

    const confirmDelete = confirm(
      `Apakah anda yakin ingin menghapus katalog ${merk} - ${model} ?`
    );

    if (confirmDelete) {
      window.location.href = `#`;
    }

    e.preventDefault();
  });

  btnEdit.addEventListener("click", function (e) {
    const id = this.getAttribute("data-id");
    const merk = this.getAttribute("data-merk");
    const model = this.getAttribute("data-model");
    const gambar = this.getAttribute("data-gambar");
    const deskripsi = this.getAttribute("data-deskripsi");

    const inputId = document.querySelector("#id");
    const inputMerk = document.querySelector("#merk");
    const inputModel = document.querySelector("#model");
    const inputDeskripsi = document.querySelector("#deskripsi");

    const imgPreview = document.querySelector(".img-preview");
    const labelGambar = document.querySelector(".label-gambar");

    inputId.value = id;
    inputMerk.value = merk;
    inputModel.value = model;
    inputDeskripsi.value = deskripsi;

    imgPreview.src = `assets/img/${gambar}`;

    labelGambar.innerHTML = `<div><i class="bx bx-edit"></i></div> Ubah Gambar <small class="opsi">(opsional)</small>`;

    e.preventDefault();
  });

  btnDetail.addEventListener("click", function (e) {
    modalContainer.style.display = "block";
    const id = this.getAttribute("data-id");
    const merkData = this.getAttribute("data-merk");
    const modelData = this.getAttribute("data-model");
    const gambarData = this.getAttribute("data-gambar");
    const deskripsi = this.getAttribute("data-deskripsi");

    const titleElemen = document.querySelector(
      ".modal-container .modal-content .title"
    );

    const merkElemen = document.querySelector(
      ".modal-container .modal-content .merk"
    );

    const modelElemen = document.querySelector(
      ".modal-container .modal-content .model"
    );

    const deskripsiElemen = document.querySelector(
      ".modal-container .modal-content .deskripsi"
    );

    const gambarElemen = document.querySelector(
      ".modal-container .modal-content .gambar-modal img.img-preview-modal"
    );

    titleElemen.textContent = `${merkData} - ${modelData}`;
    merkElemen.textContent = merkData;
    modelElemen.textContent = modelData;

    deskripsiElemen.innerHTML = deskripsi;
    gambarElemen.src = `./assets/img/${gambarData}`;
  });
});

const fileInputImg = document.querySelector("#gambar");
const imgPreview = document.querySelector(".img-preview");

fileInputImg.addEventListener("change", function () {
  const file = this.files[0];
  if (file) {
    const reader = new FileReader();
    reader.addEventListener("load", function () {
      imgPreview.src = reader.result;
    });
    reader.readAsDataURL(file);
  }
});

// Ambil elemen modal
const modalContainer = document.getElementById("modal-container");

// Ketika tombol close di modal diklik
modalContainer
  .querySelector(".close")
  .addEventListener("click", function (event) {
    // Sembunyikan modal
    modalContainer.style.display = "none";
  });

// Ketika pengguna mengklik di luar modal, sembunyikan modal
window.addEventListener("click", function (event) {
  if (event.target === modalContainer) {
    modalContainer.style.display = "none";
  }
});
